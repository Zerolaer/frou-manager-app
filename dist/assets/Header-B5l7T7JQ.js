import{s,j as t,A as m}from"./index-opaSS7ow.js";import{u as h,r}from"./vendor-CqGws4Uo.js";import"./supabase-BmeMSZYH.js";function f(){try{const a=Object.keys(localStorage);for(const e of a)(e.startsWith?e.startsWith("finance:"):e.indexOf("finance:")===0)&&localStorage.removeItem(e)}catch{}}const d={"/":"Главная","/finance":"Финансы","/tasks":"Задачи","/goals":"Цели","/notes":"Заметки"};function p(){const a=h(),[e,n]=r.useState(null);r.useEffect(()=>{s.auth.getUser().then(({data:i})=>{n(i.user?.email??null)});const{data:l}=s.auth.onAuthStateChange((i,u)=>{n(u?.user?.email??null)});return()=>{l.subscription.unsubscribe()}},[]);const c=d[a.pathname]??"Раздел";async function o(){await s.auth.signOut(),f(),window.location.href="/login"}return t.jsxs("header",{className:"hidden lg:flex bg-white border-b border-gray-200 px-6 py-4 items-center justify-between",role:"banner","aria-label":"Заголовок страницы",children:[t.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:c}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"text-sm text-gray-600","aria-label":`Пользователь: ${e??"неизвестно"}`,children:e??"—"}),t.jsx(m,{variant:"secondary",size:"sm",onClick:o,ariaLabel:"Выйти из системы",announceOnClick:"Выход из системы",children:"Выйти"})]})]})}export{p as default};
