import{r as a,j as s}from"./index-CXPc7nnv.js";function b({open:t,note:e,onClose:r,onSave:p,onDelete:c}){const[d,i]=a.useState((e==null?void 0:e.title)??""),[u,x]=a.useState((e==null?void 0:e.content)??""),n=a.useRef(null);a.useEffect(()=>{i((e==null?void 0:e.title)??""),x((e==null?void 0:e.content)??"")},[e]),a.useEffect(()=>{const l=n.current;l&&(t&&!l.open&&l.showModal(),!t&&l.open&&l.close())},[t]);async function o(l){l.preventDefault(),await p({title:d,content:u},e==null?void 0:e.id),r()}return s.jsx("dialog",{ref:n,className:"rounded-2xl p-0 w-[880px] max-w-[95vw] backdrop:bg-black/40 backdrop:backdrop-blur-sm",children:s.jsxs("form",{method:"dialog",onSubmit:o,className:"flex flex-col",children:[s.jsx("header",{className:"px-6 py-4 border-b bg-white/70 backdrop-blur",children:s.jsx("h2",{className:"text-lg font-semibold",children:e?"Редактировать заметку":"Новая заметка"})}),s.jsxs("div",{className:"p-6 bg-white flex flex-col gap-4",children:[s.jsx("input",{className:"w-full border rounded-lg px-3 py-2 text-sm outline-none focus:ring focus:ring-blue-100",placeholder:"Заголовок",value:d,onChange:l=>i(l.target.value),autoFocus:!0}),s.jsx("textarea",{className:"min-h-[280px] w-full border rounded-lg px-3 py-2 text-sm outline-none focus:ring focus:ring-blue-100",placeholder:"Текст заметки… Поддерживается перенос строк.",value:u,onChange:l=>x(l.target.value)})]}),s.jsxs("footer",{className:"px-6 py-4 border-t bg-white flex items-center justify-between",children:[e!=null&&e.id&&c?s.jsx("button",{type:"button",className:"btn-danger px-4 py-2 text-sm rounded-lg",onClick:async()=>{await c(e.id),r()},children:"Удалить"}):s.jsx("span",{}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm rounded-lg border",children:"Отмена"}),s.jsx("button",{type:"submit",className:"btn px-4 py-2 text-sm rounded-lg",children:"Сохранить"})]})]})]})})}export{b as default};
