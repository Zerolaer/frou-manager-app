import{j as e}from"./index-Cxov-ftt.js";import{r as g,a as y}from"./vendor-CqGws4Uo.js";function k(r,a){g.useEffect(()=>{if(!r)return;const n=a.current;if(!n)return;const s=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),t=Array.from(n.querySelectorAll(s)),l=t[0],d=t[t.length-1],o=i=>{i.key==="Tab"&&t.length!==0&&(i.shiftKey?document.activeElement===l&&(i.preventDefault(),d?.focus()):document.activeElement===d&&(i.preventDefault(),l?.focus()))};return n.addEventListener("keydown",o),l?.focus(),()=>n.removeEventListener("keydown",o)},[r,a])}function w({open:r,onClose:a,title:n,subTitle:s,footer:t,headerRight:l,children:d,closeOnOverlay:o=!0,size:i="default",className:u,contentClassName:x,bodyClassName:m}){const h=g.useRef(null);if(k(r,h),g.useEffect(()=>{if(!r)return;const f=p=>{p.key==="Escape"&&a()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[r,a]),!r)return null;const j=[(i==="sm"||i==="md"?"default":i==="lg"||i==="xl"?"large":i)==="large"?"w-[880px]":"w-[620px]","max-w-[95vw]","rounded-2xl","bg-white","shadow-xl","outline-none","ring-1","ring-black/5"].join(" "),v=e.jsxs("div",{className:"fixed inset-0 z-[100]",onMouseDown:()=>{o&&a()},children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:e.jsxs("div",{ref:h,className:j,tabIndex:-1,onMouseDown:f=>f.stopPropagation(),children:[(n||s||a)&&e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-base font-medium leading-none",id:"modal-title",children:n}),s&&e.jsx("div",{className:"mt-1 text-xs opacity-70",children:s})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[l&&e.jsx("div",{className:"ml-4",children:l}),e.jsx("button",{onClick:a,className:"px-2 py-1 rounded-lg hover:bg-black/5 focus-visible:ring-2 focus-visible:ring-blue-500","aria-label":"Close",children:"Ã—"})]})]}),e.jsx("div",{className:m??"px-5 py-4",children:e.jsx("div",{className:`w-auto ${x??""} mx-auto`,children:d})}),t&&e.jsx("div",{className:"px-5 py-4 border-t bg-gray-50 rounded-b-2xl",children:t})]})})]});return y.createPortal(v,document.body)}function c({variant:r="primary",size:a="md",loading:n=!1,disabled:s=!1,onClick:t,children:l,className:d=""}){const o="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",i={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},u={sm:"h-8 px-3 text-sm",md:"h-9 px-4 text-sm",lg:"h-10 px-6 text-base"},m=[o,i[r],u[a],s||n?"opacity-50 cursor-not-allowed":"",d].filter(Boolean).join(" ");return e.jsxs("button",{className:m,disabled:s||n,onClick:t,children:[n&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent mr-2"}),l]})}function b({left:r,right:a,className:n=""}){return e.jsxs("div",{className:`flex items-center justify-between ${n}`,children:[e.jsx("div",{children:r}),e.jsx("div",{className:"flex items-center gap-2",children:a})]})}function N({title:r,subtitle:a,right:n}){return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:r}),a&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a})]}),n&&e.jsx("div",{children:n})]})}function M({open:r,onClose:a,title:n,subtitle:s,size:t="md",children:l,footer:d,headerRight:o,closeOnOverlay:i=!0,bodyClassName:u}){const x={sm:"default",md:"default",lg:"large",xl:"large"};return e.jsx(w,{open:r,onClose:a,title:e.jsx(N,{title:n,subtitle:s,right:o}),footer:d,size:x[t],closeOnOverlay:i,bodyClassName:u,children:l})}function D(){return{createStandardFooter:(s,t,l)=>e.jsx(b,{left:l,right:e.jsxs(e.Fragment,{children:[t&&e.jsx(c,{variant:"secondary",onClick:t.onClick,children:t.label}),e.jsx(c,{variant:"primary",onClick:s.onClick,loading:s.loading,disabled:s.disabled,children:s.label})]})}),createDangerFooter:(s,t,l)=>e.jsx(b,{left:e.jsx(c,{variant:"danger",onClick:s.onClick,loading:s.loading,disabled:s.disabled,children:s.label}),right:e.jsxs(e.Fragment,{children:[l&&e.jsx(c,{variant:"secondary",onClick:l.onClick,children:l.label}),e.jsx(c,{variant:"primary",onClick:t.onClick,loading:t.loading,disabled:t.disabled,children:t.label})]})}),createSimpleFooter:(s,t)=>e.jsx(b,{right:e.jsxs(e.Fragment,{children:[t&&e.jsx(c,{variant:"secondary",onClick:t.onClick,children:t.label}),e.jsx(c,{variant:"primary",onClick:s.onClick,loading:s.loading,disabled:s.disabled,children:s.label})]})})}}export{w as M,M as U,b as a,c as b,D as u};
