import{r as m,m as b,j as e}from"./index-CXPc7nnv.js";function v(t,n){m.useEffect(()=>{if(!t)return;const i=n.current;if(!i)return;const c=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),a=Array.from(i.querySelectorAll(c)),s=a[0],l=a[a.length-1],o=r=>{r.key==="Tab"&&a.length!==0&&(r.shiftKey?document.activeElement===s&&(r.preventDefault(),l==null||l.focus()):document.activeElement===l&&(r.preventDefault(),s==null||s.focus()))};return i.addEventListener("keydown",o),s==null||s.focus(),()=>i.removeEventListener("keydown",o)},[t,n])}function p({open:t,onClose:n,title:i,footer:c,children:a,closeOnOverlay:s=!0,size:l="default",bodyClassName:o}){const r=m.useRef(null);if(v(t,r),m.useEffect(()=>{if(!t)return;const d=f=>{f.key==="Escape"&&n()};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[t,n]),!t)return null;const x=[l==="large"?"w-[880px]":"w-[620px]","max-w-[95vw]","rounded-2xl","bg-white","shadow-xl","outline-none","ring-1","ring-black/5"].join(" "),u=e.jsxs("div",{className:"fixed inset-0 z-[100]",onMouseDown:()=>{s&&n()},children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:e.jsxs("div",{ref:r,className:x,tabIndex:-1,onMouseDown:d=>d.stopPropagation(),children:[(i||n)&&e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b",children:[e.jsx("div",{className:"text-base font-medium",children:i}),e.jsx("button",{onClick:n,className:"px-2 py-1 rounded-lg hover:bg-black/5 focus-visible:ring-2 focus-visible:ring-blue-500","aria-label":"Close",children:"Ã—"})]}),e.jsx("div",{className:o??"px-5 py-4",children:a}),c&&e.jsx("div",{className:"px-5 py-4 border-t bg-gray-50 rounded-b-2xl",children:c})]})})]});return b.createPortal(u,document.body)}function w({open:t,onClose:n,title:i,subTitle:c,footer:a,headerRight:s,children:l,size:o="md",className:r,contentClassName:x,bodyClassName:u}){return e.jsx(p,{bodyClassName:u,open:t,onClose:n,size:o==="lg"?"large":"default",title:e.jsxs("div",{className:"flex items-center justify-between gap-3 w-full",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-base font-medium leading-none",id:"modal-title",children:i}),c&&e.jsx("div",{className:"mt-1 text-xs opacity-70",children:c})]}),s?e.jsx("div",{className:"ml-4",children:s}):null]}),footer:a,children:e.jsx("div",{className:`${u??""}`,children:e.jsx("div",{className:`w-auto ${x??""} mx-auto`,children:l})})})}export{w as M};
