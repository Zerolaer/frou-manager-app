import{r as l,j as e}from"./index-De27cj0q.js";import{M as N}from"./Modal-C1HSv8SS.js";const y=["Здоровье","Финансы","Работа","Обучение","Прочее"],f=["low","medium","high"];function E({open:m,initial:a,onClose:x,onSave:v}){const[t,r]=l.useState(""),[h,c]=l.useState(""),[j,d]=l.useState(""),[p,n]=l.useState(""),[o,i]=l.useState(0),[g,u]=l.useState("medium");l.useEffect(()=>{a?(r(a.title||""),c(a.description||""),d(a.category||"Прочее"),n(a.deadline||""),i(a.progress??0),u(a.priority??"medium")):(r(""),c(""),d(""),n(""),i(0),u("medium"))},[a,m]);const b=e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{className:"btn-secondary",onClick:x,children:"Отмена"}),e.jsx("button",{className:"btn",onClick:()=>v({title:t,description:h,category:j||"Прочее",deadline:p||null,progress:o,priority:g,status:o>=100?"completed":"active"},a==null?void 0:a.id),disabled:!t.trim(),children:a?"Сохранить":"Создать"})]});return e.jsx(N,{open:m,onClose:x,title:a?"Редактировать цель":"Новая цель",footer:b,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Название"}),e.jsx("input",{className:"input",value:t,onChange:s=>r(s.target.value),placeholder:"Например, Сбросить 5 кг"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Описание"}),e.jsx("textarea",{className:"textarea",value:h,onChange:s=>c(s.target.value),rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Категория"}),e.jsxs("select",{className:"input",value:j,onChange:s=>d(s.target.value),children:[e.jsx("option",{value:"",children:"Выбрать…"}),y.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Дедлайн"}),e.jsx("input",{className:"input",type:"date",value:p??"",onChange:s=>n(s.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Прогресс (%)"}),e.jsx("input",{className:"input",type:"number",min:0,max:100,value:o,onChange:s=>i(Number(s.target.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Приоритет"}),e.jsx("select",{className:"input",value:g,onChange:s=>u(s.target.value),children:f.map(s=>e.jsx("option",{value:s,children:s},s))})]})]})]})})}export{E as default};
