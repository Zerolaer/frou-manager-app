const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-Dhc4NpbU.js","assets/supabase-7cNBIxai.js","assets/vendor-5APVzNZg.js","assets/icons-BBrol7Dz.js","assets/Finance-CkJ1mJ8k.js","assets/LoadingStates-CQpXZPN_.js","assets/ModalSystem-MuhGFQDn.js","assets/errorHandler-DGZ6og3m.js","assets/useSupabaseAuth-IWfbDMh0.js","assets/Tasks-CCJSq9L7.js","assets/utils-DyBHi9Eu.js","assets/ModalForm-CPPU03v3.js","assets/TaskViewModal-DMK5JiO8.js","assets/Goals-DBS9QULX.js","assets/GoalModal-BWvo7p0q.js","assets/ErrorBoundaries-Cr857vdu.js","assets/Notes-BJa5xwAT.js","assets/NoteEditorModal-C_V5cuE9.js","assets/Login-BJTYizyt.js"])))=>i.map(i=>d[i]);
import{r as o,a as M,R as h,u as T,L as A,O as K,b as z,d as H,N as B}from"./vendor-5APVzNZg.js";import{c as $,_ as f}from"./supabase-7cNBIxai.js";import{H as Q,W as U,L as V,S as G,G as W,U as Y,a as X}from"./icons-BBrol7Dz.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var I={exports:{}},E={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J=o,Z=Symbol.for("react.element"),ee=Symbol.for("react.fragment"),te=Object.prototype.hasOwnProperty,se=J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,re={key:!0,ref:!0,__self:!0,__source:!0};function R(n,t,r){var s,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(s in t)te.call(t,s)&&!re.hasOwnProperty(s)&&(a[s]=t[s]);if(n&&n.defaultProps)for(s in t=n.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Z,type:n,key:i,ref:l,props:a,_owner:se.current}}E.Fragment=ee;E.jsx=R;E.jsxs=R;I.exports=E;var e=I.exports,k={},L=M;k.createRoot=L.createRoot,k.hydrateRoot=L.hydrateRoot;const P=o.createContext(null);function ne({children:n}){const[t,r]=o.useState([]),s=o.useCallback(l=>{r(c=>c.filter(d=>d.id!==l))},[]),a=o.useCallback(l=>{const c=Math.random().toString(36).slice(2),d={id:c,duration:3e3,...l};r(u=>[...u,d]),d.duration&&setTimeout(()=>s(c),d.duration)},[s]),i=o.useMemo(()=>({toasts:t,push:a,remove:s}),[t,a,s]);return e.jsx(P.Provider,{value:i,children:n})}function ae(){const n=o.useContext(P);if(!n)throw new Error("useToast must be used within ToastProvider");return n}class oe extends h.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r),this.props.onError?.(t,r)}resetError=()=>{this.setState({hasError:!1,error:void 0})};render(){if(this.state.hasError){const t=this.props.fallback||le;return e.jsx(t,{error:this.state.error,resetError:this.resetError})}return this.props.children}}function ie({children:n,fallback:t}){return e.jsx(oe,{fallback:t?()=>e.jsx(e.Fragment,{children:t}):void 0,children:n})}function le({error:n,resetError:t}){return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"rounded-xl border bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"text-red-500 text-2xl",children:"⚠️"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-red-600",children:"Что-то пошло не так"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Произошла неожиданная ошибка в приложении"})]})]}),!1,e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:t,className:"btn px-4 py-2 text-sm",children:"Попробовать снова"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"btn-secondary px-4 py-2 text-sm",children:"Обновить страницу"})]})]})})}const Me={ADD:"Добавить",SEARCH:"Поиск"};let ce=0;function S(n="id"){return`${n}-${++ce}`}function de(){const n=document.getElementById("aria-live-region");if(n)return n;const t=document.createElement("div");return t.id="aria-live-region",t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.className="sr-only",t.style.cssText=`
    position: absolute;
    left: -10000px;
    width: 1px;
    height: 1px;
    overflow: hidden;
  `,document.body.appendChild(t),t}function C(n,t="polite"){const r=de();r.setAttribute("aria-live",t),r.textContent=n,setTimeout(()=>{r.textContent=""},1e3)}const ue={ESCAPE:"Escape"},me={style:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"}};function w({href:n,children:t}){return h.createElement("a",{href:n,className:"sr-only focus:not-sr-only focus:absolute focus:top-0 focus:left-0 bg-blue-600 text-white p-2 z-50",style:me.style},t)}const v=o.forwardRef(({variant:n="primary",size:t="md",loading:r=!1,className:s="",children:a,ariaLabel:i,ariaDescribedBy:l,announceOnClick:c,onClick:d,disabled:u,...p},x)=>{const N=o.useRef(null),_=o.useCallback(j=>{c&&C(c),d?.(j)},[d,c]),O=h.useMemo(()=>{const j="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",F={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},q={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return[j,F[n],q[t],u||r?"opacity-50 cursor-not-allowed":"",s].filter(Boolean).join(" ")},[n,t,u,r,s]);return e.jsxs("button",{ref:x||N,className:O,disabled:u||r,"aria-label":i,"aria-describedby":l,"aria-disabled":u||r,onClick:_,...p,children:[r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent mr-2"}),e.jsx("span",{className:"sr-only",children:"Загрузка..."})]}),a]})});v.displayName="AccessibleButton";const fe=o.forwardRef(({label:n,error:t,helperText:r,required:s=!1,describedBy:a,className:i="",id:l,...c},d)=>{const u=l||S("input"),p=t?S("error"):void 0,x=r?S("helper"):void 0,N=[a,p,x].filter(Boolean).join(" ")||void 0,_=h.useMemo(()=>`w-full px-3 py-2 border rounded-lg text-sm outline-none transition-colors ${t?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"} focus:ring-2 focus:border-transparent ${i}`,[t,i]);return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700",children:[n,s&&e.jsx("span",{className:"text-red-500 ml-1","aria-label":"обязательное поле",children:"*"})]}),e.jsx("input",{ref:d,id:u,className:_,required:s,"aria-invalid":t?"true":"false","aria-describedby":N,...c}),t&&e.jsx("p",{id:p,className:"text-sm text-red-600",role:"alert",children:t}),r&&!t&&e.jsx("p",{id:x,className:"text-sm text-gray-500",children:r})]})});fe.displayName="AccessibleInput";const he=()=>e.jsxs("nav",{"aria-label":"Пропустить навигацию",children:[e.jsx(w,{href:"#main-content",children:"Перейти к основному содержанию"}),e.jsx(w,{href:"#main-navigation",children:"Перейти к главному меню"}),e.jsx(w,{href:"#sidebar",children:"Перейти к боковой панели"})]}),xe=void 0,pe=void 0;console.error("[supabaseClient] Missing VITE_SUPABASE_URL or VITE_SUPABASE_ANON_KEY");const y=$(xe,pe),ge="Finance Suite",be="v2",Ke=12,ze={INCOME:"income",EXPENSE:"expense"},He=["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],Be={LOW:"low",NORMAL:"normal",MEDIUM:"medium",HIGH:"high"},$e={OPEN:"open",CLOSED:"closed"},Qe="ALL",Ue=200,Ve=120,Ge=80,We={SIDEBAR_COLLAPSED:"app.sidebar.collapsed",FINANCE:(n,t)=>`finance:${be}:${n}:${t}`};function ye(){try{const n=Object.keys(localStorage);for(const t of n)(t.startsWith?t.startsWith("finance:"):t.indexOf("finance:")===0)&&localStorage.removeItem(t)}catch{}}const je=[{to:"/",label:"Главная",icon:Q},{to:"/finance",label:"Финансы",icon:U},{to:"/tasks",label:"Задачи",icon:V},{to:"/notes",label:"Заметки",icon:G},{to:"/goals",label:"Цели",icon:W}];function ve(){const n=T(),[t,r]=o.useState(null);o.useEffect(()=>{y.auth.getUser().then(({data:i})=>{r(i.user?.email??null)});const{data:a}=y.auth.onAuthStateChange((i,l)=>{r(l?.user?.email??null)});return()=>{a.subscription.unsubscribe()}},[]);async function s(){await y.auth.signOut(),ye(),window.location.href="/login"}return e.jsxs("header",{className:"bg-white border-b border-gray-300 px-4 py-3 flex items-center justify-between",role:"banner","aria-label":"Заголовок страницы",style:{minHeight:"48px"},children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(A,{to:"/",className:"flex items-center gap-2 text-gray-900 hover:text-blue-600 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded flex items-center justify-center text-sm font-bold",children:"F"}),e.jsx("span",{className:"font-semibold text-lg",children:ge})]}),e.jsx("nav",{className:"hidden md:flex items-center gap-1",role:"navigation","aria-label":"Основное меню",children:je.map(a=>{const i=n.pathname===a.to,l=a.icon;return e.jsxs(A,{to:a.to,className:`
                  flex items-center gap-2 px-3 py-2 text-sm font-medium rounded transition-colors
                  ${i?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
                `,"aria-current":i?"page":void 0,children:[e.jsx(l,{className:"w-4 h-4"}),a.label]},a.to)})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline","aria-label":`Пользователь: ${t??"неизвестно"}`,children:t?.split("@")[0]??"—"})]}),e.jsxs(v,{variant:"ghost",size:"sm",onClick:s,ariaLabel:"Выйти из системы",announceOnClick:"Выход из системы",className:"flex items-center gap-2 text-gray-600 hover:text-red-600",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Выйти"})]})]})]})}function Ee(){const{toasts:n,remove:t}=ae();return e.jsx("div",{className:"fixed bottom-4 right-4 z-[60] space-y-2",children:n.map(r=>e.jsxs("div",{className:"rounded-xl bg-black text-white/90 px-4 py-3 shadow-lg min-w-[260px]",children:[r.title&&e.jsx("div",{className:"text-sm font-semibold mb-0.5",children:r.title}),e.jsx("div",{className:"text-sm",children:r.message}),e.jsx("button",{className:"absolute top-1 right-1 px-2 py-1 text-xs opacity-70 hover:opacity-100",onClick:()=>t(r.id),"aria-label":"Close toast",children:"×"})]},r.id))})}function Ne(){o.useEffect(()=>{const n=t=>{const r=t.target;if(!(r.tagName==="INPUT"||r.tagName==="TEXTAREA"||r.contentEditable==="true")){if((t.ctrlKey||t.metaKey)&&t.key==="k"){t.preventDefault();const s=document.querySelector('input[type="search"], input[placeholder*="Поиск"]');s&&s.focus()}if(t.key===ue.ESCAPE){const s=document.querySelector('[role="dialog"]');if(s){const a=s.querySelector('button[aria-label*="Закрыть"], button[aria-label*="Отмена"]');a&&a.click()}}if(t.altKey&&/^[1-5]$/.test(t.key)){t.preventDefault();const s=document.querySelectorAll("#main-navigation a[href]"),a=parseInt(t.key)-1;s[a]&&s[a].click()}if(t.altKey&&t.key.toLowerCase()==="h"){t.preventDefault();const s=document.querySelector('#main-navigation a[href="/"]');s&&s.click()}}};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[])}const _e=({show:n=!1,onToggle:t})=>{const[r,s]=o.useState(n);if(Ne(),o.useEffect(()=>{const l=c=>{(c.ctrlKey||c.metaKey)&&c.key==="?"&&(c.preventDefault(),s(d=>!d),t?.())};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[t]),!r)return null;const i=[{keys:["Ctrl","K"],description:"Фокус на поиск",category:"Навигация"},{keys:["Alt","1"],description:"Главная",category:"Навигация"},{keys:["Alt","2"],description:"Финансы",category:"Навигация"},{keys:["Alt","3"],description:"Задачи",category:"Навигация"},{keys:["Alt","4"],description:"Заметки",category:"Навигация"},{keys:["Alt","5"],description:"Цели",category:"Навигация"},{keys:["Alt","H"],description:"Главная страница",category:"Навигация"},{keys:["Escape"],description:"Закрыть модальное окно",category:"Общие"},{keys:["Tab"],description:"Переход к следующему элементу",category:"Навигация"},{keys:["Shift","Tab"],description:"Переход к предыдущему элементу",category:"Навигация"},{keys:["Enter"],description:"Активировать элемент",category:"Общие"},{keys:["Space"],description:"Активировать кнопку",category:"Общие"}].reduce((l,c)=>(l[c.category]||(l[c.category]=[]),l[c.category].push(c),l),{});return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>s(!1),role:"dialog","aria-modal":"true","aria-labelledby":"shortcuts-title",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[80vh] overflow-hidden",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{id:"shortcuts-title",className:"text-xl font-semibold",children:"Клавиатурные сокращения"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600 text-xl","aria-label":"Закрыть",children:"✕"})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[e.jsx("div",{className:"space-y-6",children:Object.entries(i).map(([l,c])=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:l}),e.jsx("div",{className:"space-y-2",children:c.map((d,u)=>e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-gray-700",children:d.description}),e.jsx("div",{className:"flex items-center gap-1",children:d.keys.map((p,x)=>e.jsxs(h.Fragment,{children:[x>0&&e.jsx("span",{className:"text-gray-400 mx-1",children:"+"}),e.jsx("kbd",{className:"px-2 py-1 text-xs font-mono bg-gray-100 border border-gray-300 rounded",children:p})]},x))})]},u))})]},l))}),e.jsx("div",{className:"mt-6 pt-6 border-t",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("kbd",{className:"px-2 py-1 text-xs font-mono bg-gray-100 border border-gray-300 rounded",children:"Ctrl"}),e.jsx("span",{className:"mx-1",children:"+"}),e.jsx("kbd",{className:"px-2 py-1 text-xs font-mono bg-gray-100 border border-gray-300 rounded",children:"?"}),e.jsx("span",{className:"ml-2",children:"для показа/скрытия этого окна"})]})})]})]})})};function D(){const[n,t]=o.useState(navigator.onLine),[r,s]=o.useState(!1);return o.useEffect(()=>{const a=()=>{t(!0),r&&(C("Соединение восстановлено","polite"),s(!1))},i=()=>{t(!1),s(!0),C("Соединение потеряно. Работа в автономном режиме","assertive")};return window.addEventListener("online",a),window.addEventListener("offline",i),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",i)}},[r]),{isOnline:n,wasOffline:r}}const Se=()=>{const{isOnline:n}=D(),[t,r]=o.useState(!1);return o.useEffect(()=>{if(!n)r(!0);else{const s=setTimeout(()=>{r(!1)},3e3);return()=>clearTimeout(s)}},[n]),t?e.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-orange-500 text-white px-4 py-2 text-center text-sm",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{children:"⚠️"}),e.jsx("span",{children:n?"Соединение восстановлено":"Нет подключения к интернету"})]})}):null};class we{queue=[];isProcessing=!1;add(t,r){const s={id:r||`operation_${Date.now()}_${Math.random()}`,operation:t,timestamp:Date.now(),retries:0};return this.queue.push(s),this.saveToStorage(),s.id}async process(){if(!(this.isProcessing||this.queue.length===0)){for(this.isProcessing=!0;this.queue.length>0;){const t=this.queue[0];try{await t.operation(),this.queue.shift(),this.saveToStorage()}catch(r){t.retries++,t.retries>=3?(this.queue.shift(),console.error("Operation failed after 3 retries:",t.id,r)):this.queue.push(this.queue.shift()),this.saveToStorage();break}}this.isProcessing=!1}}clear(){this.queue=[],this.saveToStorage()}getQueue(){return[...this.queue]}saveToStorage(){try{localStorage.setItem("offlineQueue",JSON.stringify(this.queue))}catch(t){console.error("Failed to save offline queue:",t)}}loadFromStorage(){try{const t=localStorage.getItem("offlineQueue");t&&(this.queue=JSON.parse(t))}catch(t){console.error("Failed to load offline queue:",t)}}}const m=new we;function ke(){const{isOnline:n}=D(),[t,r]=o.useState(0);o.useEffect(()=>{m.loadFromStorage(),r(m.getQueue().length)},[]),o.useEffect(()=>{n&&t>0&&m.process().then(()=>{r(m.getQueue().length)})},[n,t]);const s=o.useCallback((l,c)=>{const d=m.add(l,c);return r(m.getQueue().length),d},[]),a=o.useCallback(async()=>{await m.process(),r(m.getQueue().length)},[]),i=o.useCallback(()=>{m.clear(),r(0)},[]);return{isOnline:n,queueLength:t,addOfflineOperation:s,processQueue:a,clearQueue:i}}const Ce=()=>{const{queueLength:n,processQueue:t,clearQueue:r}=ke(),[s,a]=o.useState(!1);return n===0?null:e.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:e.jsxs("div",{className:"bg-blue-600 text-white rounded-lg shadow-lg p-4 max-w-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-medium",children:[n," операций в очереди"]}),e.jsx("button",{onClick:()=>a(!s),className:"text-white hover:text-gray-200","aria-label":s?"Свернуть":"Развернуть",children:s?"−":"+"})]}),s&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-blue-100",children:"Операции будут выполнены при восстановлении соединения"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{variant:"secondary",size:"sm",onClick:t,className:"bg-blue-500 hover:bg-blue-400",children:"Попробовать сейчас"}),e.jsx(v,{variant:"ghost",size:"sm",onClick:r,className:"text-blue-100 hover:text-white",children:"Очистить"})]})]})]})})};function Oe(){return e.jsxs(e.Fragment,{children:[e.jsx(Se,{}),e.jsx(Ce,{})]})}function Ae(){const[n,t]=o.useState({fcp:null,lcp:null,fid:null,cls:null,ttfb:null,bundleSize:null});return o.useEffect(()=>{},[]),null}function Le(){const t=T().pathname.toLowerCase().includes("finance");return e.jsx(ne,{children:e.jsxs(ie,{children:[e.jsx(he,{}),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(ve,{}),e.jsx("main",{id:"main-content",className:`flex-1 ${t?"finance-page":""}`,role:"main","aria-label":"Основное содержимое",children:e.jsx(o.Suspense,{fallback:e.jsx("div",{className:"p-4",role:"status","aria-label":"Загрузка содержимого",children:"Загрузка…"}),children:e.jsx(K,{})})})]}),e.jsx(Ee,{}),e.jsx(_e,{}),e.jsx(Oe,{}),e.jsx(Ae,{})]})})}const g={Home:o.lazy(()=>f(()=>import("./Home-Dhc4NpbU.js"),__vite__mapDeps([0,1,2,3]))),Finance:o.lazy(()=>f(()=>import("./Finance-CkJ1mJ8k.js"),__vite__mapDeps([4,5,2,6,3,7,8,1]))),Tasks:o.lazy(()=>f(()=>import("./Tasks-CCJSq9L7.js"),__vite__mapDeps([9,2,10,6,11,3,12,7,8,1]))),Goals:o.lazy(()=>f(()=>import("./Goals-DBS9QULX.js"),__vite__mapDeps([13,2,3,14,6,11,1,7,5,15]))),Notes:o.lazy(()=>f(()=>import("./Notes-BJa5xwAT.js"),__vite__mapDeps([16,2,17,6,11,1,3,7,5,15]))),Login:o.lazy(()=>f(()=>import("./Login-BJTYizyt.js"),__vite__mapDeps([18,2,1,3])))};o.lazy(()=>f(()=>import("./TaskViewModal-DMK5JiO8.js").then(n=>n.a),__vite__mapDeps([12,2,6,3]))),o.lazy(()=>f(()=>import("./GoalModal-BWvo7p0q.js"),__vite__mapDeps([14,2,6,11,1,3]))),o.lazy(()=>f(()=>import("./NoteEditorModal-C_V5cuE9.js"),__vite__mapDeps([17,2,6,11,1,3])));function Te(){if(typeof window>"u")return;["/finance","/tasks","/goals","/notes"].forEach(r=>{const s=document.createElement("link");s.rel="prefetch",s.href=r,document.head.appendChild(s)}),[].forEach(r=>{const s=document.createElement("link");s.rel="preload",s.href=r,s.as="image",document.head.appendChild(s)})}Te();const b=()=>e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-600 border-t-transparent"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Загрузка..."})]}),Ie=({children:n})=>{const[t,r]=h.useState(!0),[s,a]=h.useState(!1);return h.useEffect(()=>{y.auth.getSession().then(({data:l})=>{a(!!l.session),r(!1)});const{data:i}=y.auth.onAuthStateChange((l,c)=>{a(!!c)});return()=>{i.subscription.unsubscribe()}},[]),t?e.jsx("div",{className:"p-8 text-gray-300",children:"Загрузка..."}):s?e.jsx(e.Fragment,{children:n}):e.jsx(B,{to:"/login",replace:!0})},Re=z([{path:"/login",element:e.jsx(o.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(g.Login,{})})},{path:"/",element:e.jsx(Ie,{children:e.jsx(Le,{})}),children:[{index:!0,element:e.jsx(o.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(g.Home,{})})},{path:"finance",element:e.jsx(o.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(g.Finance,{})})},{path:"tasks",element:e.jsx(o.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(g.Tasks,{})})},{path:"goals",element:e.jsx(o.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(g.Goals,{})})},{path:"notes",element:e.jsx(o.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(g.Notes,{})})}]}]);k.createRoot(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx(H,{router:Re})}));export{v as A,We as C,ze as F,Ke as M,Qe as T,He as a,Ve as b,Ue as c,Ge as d,$e as e,Be as f,Me as g,fe as h,e as j,y as s,ae as u};
